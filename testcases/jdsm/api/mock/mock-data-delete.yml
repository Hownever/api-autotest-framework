name: delete the mock server queue data for request
description: |
    delete the mock server queue data for request

variables:
    mock_host: ${ENV(ENV_MOCK_SERVER_BASE_URL)}
    # mock存储的id，使用时的id
    mock_data_id: you_mock_data_id
    expected_status_code: 200

    requestid: ${get_timestamp(13)}${gen_random_string(19)}
    headers:
        ajax-id: $requestid
        x-jdcloud-request-id: $requestid
    global_headers: {"ajax-id": "$requestid", "x-jdcloud-request-id": "$requestid"}

request:
    url: $mock_host/api/v1/mockserver/mocks/$mock_data_id
    method: DELETE
    headers: $headers

setup_hooks:
    - ${hook_update_request_insert_global_headers($request, $global_headers)}
