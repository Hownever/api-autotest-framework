testcases:
    IP地址来源：不同KEY账号-IP白名单-本机IP地址-网关允许访问后端:
        testcase:  api/ipprotect-opened-allow.yml
        parameters:
            # father  jiashuo-ite-1
            userinfos:
                # 企业用户
                - {
                    "userpin" : "jcloud_LUrXyzr",
                    "keytype" : "CompanySelfKey-HeaderWithInvalidIP-should-allow",
                    "AK" : "B4D36386BD9931771F01F5857775CADC",
                    "SK" : "CD5B008C5C82BCE5D345744A9FA41D46",
                    "headers" : {
                        "x-jdcloud-user-ip" : "invalid_ip_address",
                        },
                    "uc_ipprotect_open_wait_time" : 0,
                    "uc_ipprotect_close_wait_time" : 0,
                    "gw_ipprotect_open_wait_time" : 305,
                    "gw_ipprotect_close_wait_time" : 305,
                  }

                # 控制台用户- 不传x-jdcloud-user-ip
                - {
                    "userpin" : "jcloud_LUrXyzr",
                    "keytype" : "ConsoleUserSelfKey-HeaderWithValidPin-HeaderNoIP",
                    "AK" : "379E1234E8EBB9942284FBA0F84EB6A2",
                    "SK" : "36D959BFF6BD6D86E83E5BD8A899E25E",
                    # optional, 可以没有此字段
                    "headers" : {
                        "x-jdcloud-pin" : "jcloud_LUrXyzr",
                        },
                    "uc_ipprotect_open_wait_time" : 0,
                    "uc_ipprotect_close_wait_time" : 0,
                    "gw_ipprotect_open_wait_time" : 120,
                    "gw_ipprotect_close_wait_time" : 120,
                  }

                # 控制台用户- 传x-jdcloud-user-ip
                - {
                    "userpin" : "jcloud_LUrXyzr",
                    "keytype" : "ConsoleUserSelfKey-HeaderWithValidPin-HeaderWithValidIP",
                    "AK" : "379E1234E8EBB9942284FBA0F84EB6A2",
                    "SK" : "36D959BFF6BD6D86E83E5BD8A899E25E",
                    # optional, 可以没有此字段
                    "headers" : {
                        "x-jdcloud-pin" : "jcloud_LUrXyzr",
                        "x-jdcloud-user-ip" : "${get_user_ip()}",
                        },
                    "uc_ipprotect_open_wait_time" : 0,
                    "uc_ipprotect_close_wait_time" : 0,
                    "gw_ipprotect_open_wait_time" : 120,
                    "gw_ipprotect_close_wait_time" : 120,
                  }
            ipaddress:
                # 指定IP
                - ${get_user_ip()}
